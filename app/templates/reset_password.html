{% extends "base.html" %}
{% block body %}

    <title>Reset Password - Perimeter</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='login-styles.css') }}">

    <div class="login-container">
        <div class="login-right" style="flex: 1;">
            <div class="login-form-container">
                <a href="{{ url_for('main.login') }}" class="back-link">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                    Back to Login
                </a>
                <div class="form-header">
                    <h2 class="form-title">Reset Password</h2>
                    <p class="form-subtitle">Choose a new password for your account</p>
                </div>

                {% if token %}
                <form class="login-form" method="post">
                    <div class="form-group">
                        <label for="password" class="form-label">New Password</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <input 
                                type="password"
                                id="password"
                                name="password"
                                class="form-input"
                                placeholder="New password"
                                required
                            >
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirm_password" class="form-label">Confirm Password</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <input 
                                type="password"
                                id="confirm_password"
                                name="confirm_password"
                                class="form-input"
                                placeholder="Confirm new password"
                                required
                            >
                        </div>
                    </div>

                    <button type="submit" class="btn-login">Update Password</button>
                </form>
                {% endif %}

                {% if error %}
                <p style="margin-top: 1rem; color: #f87171;">{{ error }}</p>
                {% endif %}
                {% if message %}
                <p style="margin-top: 1rem; color: var(--text-secondary);">{{ message }}</p>
                {% endif %}
            </div>
        </div>
    </div>

{% endblock %}
